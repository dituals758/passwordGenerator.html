<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover, interactive-widget=resizes-content">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π">
    <meta name="theme-color" content="#000000">
    <meta name="color-scheme" content="dark light">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self'; img-src 'self' data:;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è iOS 18</title>
    <meta name="description" content="–ù–∞–¥–µ–∂–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ.">
    <meta name="keywords" content="–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏, PWA, –æ—Ñ—Ñ–ª–∞–π–Ω">
    
    <link rel="manifest" href="./manifest.json" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="./assets/icons/icon-180.png">
    <link rel="icon" type="image/png" href="./assets/icons/icon-32.png">
    <link rel="stylesheet" href="./style.css">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="./style.css" as="style">
    <link rel="preload" href="./app.js" as="script">
</head>
<body>
    <!-- iOS 18 Navigation -->
    <nav class="navigation" role="navigation" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
        <div class="nav-content">
            <h1 class="nav-title" id="pageTitle">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π</h1>
            <div class="nav-actions">
                <button class="nav-button" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É" aria-pressed="false">
                    <span class="nav-button-icon" aria-hidden="true">üåô</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="content" id="mainContent" role="main">
        <!-- Password Card -->
        <section class="card password-card" aria-labelledby="passwordTitle">
            <h2 id="passwordTitle" class="visually-hidden">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å</h2>
            
            <div class="password-display-container">
                <div class="password-display" role="textbox" aria-label="–ü–∞—Ä–æ–ª—å" tabindex="0">
                    <output id="passwordOutput" class="password-output" for="generateButton" aria-live="polite">
                        –ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å"
                    </output>
                    <div class="password-actions">
                        <button class="action-button" id="refreshButton" aria-label="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å">
                            <span class="action-button-icon" aria-hidden="true">üîÑ</span>
                        </button>
                        <button class="action-button" id="copyButton" aria-label="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞">
                            <span class="action-button-icon" aria-hidden="true">üìã</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Strength Indicator -->
            <div class="strength-indicator" aria-live="polite">
                <div class="strength-header">
                    <span class="strength-label">–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è:</span>
                    <span id="strengthBadge" class="strength-badge" role="status">–°—Ä–µ–¥–Ω—è—è</span>
                </div>
                <div class="strength-meter">
                    <div id="strengthFill" class="strength-fill" aria-hidden="true"></div>
                </div>
                <div id="strengthDescription" class="strength-description">
                    –•–æ—Ä–æ—à–∏–π –ø–∞—Ä–æ–ª—å –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
                </div>
            </div>

            <!-- Generate Button -->
            <div class="generate-section">
                <button class="generate-button" id="generateButton" aria-describedby="passwordOutput">
                    <span class="generate-button-icon" aria-hidden="true">üîê</span>
                    <span class="generate-button-text">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</span>
                </button>
            </div>
        </section>

        <!-- Settings Card -->
        <section class="card settings-card" aria-labelledby="settingsTitle">
            <h2 id="settingsTitle" class="settings-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</h2>
            
            <!-- Length Control -->
            <div class="length-control">
                <div class="length-header">
                    <label for="lengthSlider" class="length-label">–î–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è:</label>
                    <output id="lengthValue" class="length-value" for="lengthSlider" aria-live="polite">16</output>
                </div>
                <div class="slider-container">
                    <div class="slider-track" aria-hidden="true">
                        <div id="sliderFill" class="slider-fill"></div>
                    </div>
                    <input type="range" 
                           class="slider-input" 
                           id="lengthSlider" 
                           name="passwordLength"
                           min="8" 
                           max="32" 
                           value="16" 
                           step="1"
                           aria-label="–í—ã–±–µ—Ä–∏—Ç–µ –¥–ª–∏–Ω—É –ø–∞—Ä–æ–ª—è –æ—Ç 8 –¥–æ 32 —Å–∏–º–≤–æ–ª–æ–≤"
                           aria-valuemin="8"
                           aria-valuemax="32"
                           aria-valuenow="16"
                           aria-valuetext="16 —Å–∏–º–≤–æ–ª–æ–≤">
                </div>
            </div>

            <!-- Character Options -->
            <fieldset class="character-options" aria-labelledby="charOptionsTitle">
                <legend id="charOptionsTitle" class="visually-hidden">–¢–∏–ø—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤</legend>
                
                <div class="option-row">
                    <label for="lowercaseSwitch" class="option-label">
                        –°—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã (a-z)
                    </label>
                    <div class="switch-container">
                        <input type="checkbox" 
                               class="switch-input" 
                               id="lowercaseSwitch" 
                               name="lowercase" 
                               checked
                               aria-checked="true">
                        <span class="switch-track" aria-hidden="true">
                            <span class="switch-thumb"></span>
                        </span>
                    </div>
                </div>
                
                <div class="option-row">
                    <label for="uppercaseSwitch" class="option-label">
                        –ó–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã (A-Z)
                    </label>
                    <div class="switch-container">
                        <input type="checkbox" 
                               class="switch-input" 
                               id="uppercaseSwitch" 
                               name="uppercase" 
                               checked
                               aria-checked="true">
                        <span class="switch-track" aria-hidden="true">
                            <span class="switch-thumb"></span>
                        </span>
                    </div>
                </div>
                
                <div class="option-row">
                    <label for="numbersSwitch" class="option-label">
                        –¶–∏—Ñ—Ä—ã (0-9)
                    </label>
                    <div class="switch-container">
                        <input type="checkbox" 
                               class="switch-input" 
                               id="numbersSwitch" 
                               name="numbers" 
                               checked
                               aria-checked="true">
                        <span class="switch-track" aria-hidden="true">
                            <span class="switch-thumb"></span>
                        </span>
                    </div>
                </div>
                
                <div class="option-row">
                    <label for="specialSwitch" class="option-label">
                        –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
                    </label>
                    <div class="switch-container">
                        <input type="checkbox" 
                               class="switch-input" 
                               id="specialSwitch" 
                               name="special" 
                               checked
                               aria-checked="true">
                        <span class="switch-track" aria-hidden="true">
                            <span class="switch-thumb"></span>
                        </span>
                    </div>
                </div>
            </fieldset>

            <!-- Special Characters Preview -->
            <div class="special-preview" aria-label="–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã">
                <div id="specialPreview" class="special-preview-text">
                    ! @ # $ % ^ & *
                </div>
            </div>
        </section>

        <!-- Information Section -->
        <section class="card info-card" aria-labelledby="infoTitle">
            <h2 id="infoTitle" class="visually-hidden">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h2>
            <div class="info-content">
                <p>üîí <strong>–õ–æ–∫–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è</strong> - –≤—Å–µ –ø–∞—Ä–æ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</p>
                <p>‚ö° <strong>–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ</strong> - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Web Crypto API</p>
                <p>üì± <strong>–†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ—Ñ–ª–∞–π–Ω</strong> - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É</p>
                <p>üîÑ <strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> - –ø–∞—Ä–æ–ª—å —Å—Ä–∞–∑—É –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ –±—É—Ñ–µ—Ä</p>
            </div>
        </section>
    </main>

    <!-- Toast Notification -->
    <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true"></div>

    <!-- PWA Install Banner -->
    <div id="pwaBanner" class="pwa-banner" role="dialog" aria-labelledby="pwaTitle" aria-modal="true" hidden>
        <div class="pwa-content">
            <div class="pwa-icon" aria-hidden="true">üîê</div>
            <div class="pwa-text">
                <h3 id="pwaTitle" class="pwa-title">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h3>
                <p class="pwa-description">–î–æ–±–∞–≤—å—Ç–µ –Ω–∞ –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</p>
            </div>
        </div>
        <div class="pwa-actions">
            <button id="pwaLaterButton" class="pwa-button secondary" aria-label="–û—Ç–ª–æ–∂–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É">
                –ü–æ–∑–∂–µ
            </button>
            <button id="pwaInstallButton" class="pwa-button primary" aria-label="–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ">
                –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
            </button>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" role="status" aria-label="–ó–∞–≥—Ä—É–∑–∫–∞" hidden>
        <div class="loading-spinner" aria-hidden="true"></div>
        <span class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
    </div>

    <!-- Script -->
    <script src="./app.js" defer></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ServiceWorker:', error);
                    });
            });
        }
    </script>
</body>
</html>